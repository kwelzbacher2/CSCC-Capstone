<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 
 * Roxanne Woodruff
 * CSCI 2999 Capstone 
 * Waystone Property Management Tenant Portal
 * TenantResetPassword.xhtml
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h = "http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<script type="text/javascript"
		src="#{request.contextPath}/resources/js/waystoneTenant.js"></script>
	<title>Reset Password</title>
	<h:outputStylesheet library="css" name="waystoneTenant.css" />
</h:head>
<h:body id="resetBackground">
	<h:form id="resetForm">
		<div id="resetTop">
			<div>
				<img src="#{resource['images/Way1.png']}" alt="WPM Logo" class="topLogo" />
			</div>
			<div class="title" id="resetTitle">WAYSTONE PROPERTY MANAGEMENT</div>
		</div>
		<div class="tenInfo">
			<h3 class="pageTitle">Reset Password</h3>
			<div class="editBox" id="editPass">
				<ui:repeat value="#{tenant.getTenantRecord()}" var="tenPR">
					<h:panelGrid class="editInfo" columns="2">

						<h:outputLabel value="Email:  " />
						<h:outputText id="email" value="#{tenPR.email}" />


						<h:outputLabel for="password" value="Password:  " />
						<h:inputSecret id="resetPassword" value="#{tenant.pwd}"
							required="true" requiredMessage="Please enter a new password">
							<f:validator binding="#{passwordValidator}"
								validatorId="passwordValidator" />
							<f:attribute name="confirm" value="#{confirm}" />
						</h:inputSecret>


						<h:outputLabel for="confirm" value="Confirm Password:  " />
						<h:inputSecret id="resetConfirm" binding="#{confirm}"
							required="true" requiredMessage="Please re-enter new password"
							validatorMessage="Please enter password with at least 8 characters, one uppercase letter, one lowercase letter, and one digit.">
							<f:validateRegex
								pattern="\A(?=\S*?[0-9])(?=\S*?[a-z])(?=\S*?[A-Z])\S{8,}\z" />
						</h:inputSecret>
					</h:panelGrid>
					<h:panelGrid columns="1">
						<h:message for="email" styleClass="warning" />
						<h:message for="resetPassword" styleClass="warning" />
						<h:message for="resetConfirm" styleClass="warning" />
					</h:panelGrid>

				</ui:repeat>

				<h:commandButton value="Update"
					action="#{employee.updatePasswordToAdmin()}" class="confirmUpdate"
					id="resetPassBtn" />

			</div>
		</div>
	</h:form>

</h:body>

</html>