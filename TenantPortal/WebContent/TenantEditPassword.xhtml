<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<script type="text/javascript"
		src="#{request.contextPath}/resources/js/waystoneTenant.js"></script>
	<title>Edit Password</title>
	<h:outputStylesheet library="css" name="waystoneTenant.css" />
</h:head>
<body>
	<ui:composition template="templates/commonTemplate.xhtml">
		<ui:define name="content">
			<h:form id="form">
				<div class="empInfo">
					<h3 class="pageTitle">Edit Password</h3>
					<div class="editBox" id="editPass">

						<h:panelGrid class="editInfo" columns="2">

							<h:outputLabel value="Email:  " />
							<h:outputText id="email" value="#{tenantProfObj.email}" />


							<h:outputLabel for="password" value="Password:  " />
							<h:inputSecret id="password" value="#{tenant.pwd}"
								required="true" requiredMessage="Please enter a new password">
								<f:validator binding="#{passwordValidator}" validatorId = "passwordValidator" />
								<f:attribute name="confirm" value="#{confirm}" />
							</h:inputSecret>

							<h:outputLabel for="confirm" value="Confirm Password:  " />
							 <h:inputSecret id="confirm" binding="#{confirm}" required="true" requiredMessage = "Please re-enter new password" validatorMessage="Please enter password with at least 8 characters, one uppercase letter, one lowercase letter, and one digit."> 
								<f:validateRegex pattern="\A(?=\S*?[0-9])(?=\S*?[a-z])(?=\S*?[A-Z])\S{8,}\z" />
							</h:inputSecret>
						</h:panelGrid>

						<h:panelGrid columns="1">
							<h:message for="email" style="color:red;" />
							<h:message for="password" style="color:red;" />
							<h:message for="confirm" style="color:red;" />
						</h:panelGrid>


						<!-- Use command button -->
						<h:panelGrid columns="3">
							<h:commandButton value="Save" action="{tenant.updatePassword}"
								class="confirmUpdate" />
							<h:commandButton value="Undo" type="reset" />
							<h:commandButton onclick="history.back(); return false;"
								value="Cancel" />
						</h:panelGrid>
					</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>