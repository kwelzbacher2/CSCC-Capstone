<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 * CSCI 2999 Capstone Project
 * Waystone Property Management Intranet
 * @author KWelzbacher 
 -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h = "http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>General Ledger</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
            <link rel="stylesheet" href="/resources/demos/style.css"/>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        
        <h:outputScript name="js/waystoneEmp.js"/>
    </h:head>
    <h:body>
        <ui:composition template="templates/commonTemplate.xhtml">

            <ui:define name="content">
                
                <h:form id="ledgerForm">
                       <h3 class="pageTitle">General Ledger</h3>
                       <br/>
                       <h:panelGrid class="editInfo" columns="5" >
                       <h:outputText value="Select Start Date: "></h:outputText>
                       <h:inputText id="startDate" value ="#{record.startDate}" class="dobDate" size="10" required="true" requiredMessage="Start Date is required" 
                                     validatorMessage="Please enter digits in the form of 1999-01-01 for Start Date">     
                            <f:validateRegex pattern="\d{4}-\d{2}-\d{2}" />
                    </h:inputText> 
                    <h:outputText value="Select End Date: "/>
                    <h:inputText id="endDate" value ="#{record.endDate}" class="dobDate" size="10" required="true" requiredMessage="End Date is required" 
                                     validatorMessage="Please enter digits in the form of 1999-01-01 for End Date">     
                            <f:validateRegex pattern="\d{4}-\d{2}-\d{2}" />
                     </h:inputText>
                     <h:commandButton value="Submit" action="#{record.getGeneralLedger(record.startDate, record.endDate)}"/>
                  </h:panelGrid>
                  <h:panelGrid class="warning" columns="1"> 
                    <h:message for="startDate"/>
                    <h:message for="endDate" />
                  </h:panelGrid>
                       <h3 class="pageTitle">Accounts Receivable</h3>                        
                        <h:dataTable id="receiveTable" value="#{record.receiveList}"  var="receiveObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{receiveObj.recordDate}" action="#{record.viewIndivRecord(receiveObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{receiveObj.recordName}" action="#{record.viewIndivRecord(receiveObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{receiveObj.recordInvNum}" action="#{record.viewIndivRecord(receiveObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance: "/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{receiveObj.formatDebAmount()}" action="#{record.viewIndivRecord(receiveObj.recordID)}" class="table-link"/>
                                
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.receiveDebit}"/></f:facet>
                                
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{receiveObj.formatCredAmount()}" action="#{record.viewIndivRecord(receiveObj.recordID)}" class="table-link"/>
                                
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.receiveCredit}"/></f:facet>
                                
                            </h:column>
                                                                                                     
                        </h:dataTable>
                        
                        <h3 class="pageTitle">Rent Cash Account</h3>                        
                        <h:dataTable id="cashTable" value="#{record.rCashList}"  var="cashObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{cashObj.recordDate}" action="#{record.viewIndivRecord(cashObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{cashObj.recordName}" action="#{record.viewIndivRecord(cashObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{cashObj.recordInvNum}" action="#{record.viewIndivRecord(cashObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{cashObj.formatDebAmount()}" action="#{record.viewIndivRecord(cashObj.recordID)}" class="table-link"/>
                                
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.rCashDebit}"/></f:facet>
                                
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{cashObj.formatCredAmount()}" action="#{record.viewIndivRecord(cashObj.recordID)}" class="table-link"/>
                                
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.rCashCredit}"/></f:facet>
                                
                            </h:column> 
                                                                                                    
                        </h:dataTable>
                        <h3 class="pageTitle">Rental Income Account</h3> 
                        <h:dataTable id="incomeTable" value="#{record.rIncList}"  var="incomeObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{incomeObj.recordDate}" action="#{record.viewIndivRecord(incomeObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{incomeObj.recordName}" action="#{record.viewIndivRecord(incomeObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{incomeObj.recordInvNum}" action="#{record.viewIndivRecord(incomeObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{incomeObj.formatDebAmount()}" action="#{record.viewIndivRecord(incomeObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.rIncDebit}"/></f:facet>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{incomeObj.formatCredAmount()}" action="#{record.viewIndivRecord(incomeObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.rIncCredit}"/></f:facet>
                            </h:column> 
                                                                                                    
                        </h:dataTable>
                        <h3 class="pageTitle">Accounts Payable</h3>                        
                        <h:dataTable id="payableTable" value="#{record.payList}"  var="payableObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{payableObj.recordDate}" action="#{record.viewIndivRecord(payableObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{payableObj.recordName}" action="#{record.viewIndivRecord(payableObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{payableObj.recordInvNum}" action="#{record.viewIndivRecord(payableObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{payableObj.formatDebAmount()}" action="#{record.viewIndivRecord(payableObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.payDebit}"/></f:facet>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{payableObj.formatCredAmount()}" action="#{record.viewIndivRecord(payableObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.payCredit}"/></f:facet>
                            </h:column>
                                                                                                    
                        </h:dataTable>
                        <h3 class="pageTitle">Bank Account</h3> 
                        <h:dataTable id="bankTable" value="#{record.bankList}"  var="bankObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{bankObj.recordDate}" action="#{record.viewIndivRecord(bankObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{bankObj.recordName}" action="#{record.viewIndivRecord(bankObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{bankObj.recordInvNum}" action="#{record.viewIndivRecord(bankObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{bankObj.formatDebAmount()}" action="#{record.viewIndivRecord(bankObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.bankDebit}"/></f:facet>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{bankObj.formatCredAmount()}" action="#{record.viewIndivRecord(bankObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.bankCredit}"/></f:facet>
                            </h:column> 
                                                                                                    
                        </h:dataTable>
                        
                        <h3 class="pageTitle">Bills Expense Account</h3> 
                        <h:dataTable id="billsTable" value="#{record.billsList}"  var="billsObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{billsObj.recordDate}" action="#{record.viewIndivRecord(billsObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{billsObj.recordName}" action="#{record.viewIndivRecord(billsObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{billsObj.recordInvNum}" action="#{record.viewIndivRecord(billsObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{billsObj.formatDebAmount()}" action="#{record.viewIndivRecord(billsObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.billsDebit}"/></f:facet>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{billsObj.formatCredAmount()}" action="#{record.viewIndivRecord(billsObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{record.billsCredit}"/></f:facet>
                            </h:column> 
                                                                                                    
                        </h:dataTable>
                        
                        <h3 class="pageTitle">Fixed Assets Account</h3> 
                        <h:dataTable id="fixedTable" value="#{record.fixedList}"  var="fixObj"
                                 styleClass="table" headerClass="table-header" rowClasses="table-odd, table-even"
                                 columnClasses="date, name, trans, debit, credit">
                            <h:column> 
                                <f:facet name="header">Date</f:facet>
                                <h:commandLink value="#{fixObj.recordDate}" action="#{record.viewIndivRecord(fixObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Record Name</f:facet>
                                <h:commandLink value="#{fixObj.recordName}" action="#{record.viewIndivRecord(fixObj.recordID)}" class="table-link"/>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">Transaction No.</f:facet>
                                <h:commandLink value="#{fixObj.recordInvNum}" action="#{record.viewIndivRecord(fixObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount" value="Balance:"/></f:facet>
                            </h:column>
                            <h:column> 
                        
                                <f:facet name="header">DEBIT</f:facet>
                                <h:commandLink value="#{fixObj.formatDebAmount()}" action="#{record.viewIndivRecord(fixObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"   value="#{record.fixedADebit}"/></f:facet>
                            </h:column>
                            <h:column> 
                                <f:facet name="header">CREDIT</f:facet>
                                <h:commandLink value="#{fixObj.formatCredAmount()}" action="#{record.viewIndivRecord(fixObj.recordID)}" class="table-link"/>
                                <f:facet name="footer"><h:outputText styleClass="amount"  value="#{arecord.fixedACredit}"/></f:facet>
                            </h:column> 
                                                                                                    
                        </h:dataTable>
                                   
                </h:form>
            </ui:define>
            
        </ui:composition>
    </h:body>
</html>